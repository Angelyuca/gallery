(function(){"use strict";var e={8230:function(e,t,a){var r=a(6369),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Gallery")],1)},n=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"block-search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.emptySearch,expression:"emptySearch"}],ref:"search",staticClass:"input-search",attrs:{placeholder:"Search..."},domProps:{value:e.emptySearch},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchImgs.apply(null,arguments)},input:function(t){t.target.composing||(e.emptySearch=t.target.value)}}}),e.emptySearch.length?a("button",{staticClass:"close-icon",on:{click:e.clear}}):e._e()]),a("div",{ref:"gallery",staticClass:"block-gallery"},[e.images.length&&e.view?a("div",{staticClass:"gallery",on:{scroll:e.scroll}},[a("div",{directives:[{name:"masonry",rawName:"v-masonry"}],attrs:{"transition-duration":"1s","fit-width":"true",gutter:"13"}},e._l(e.images,(function(e,t){return a("div",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:t,staticClass:"image"},[a("img",{attrs:{src:e.urls.small}})])})),0)]):!e.images.length&&e.search.length?a("div",{staticClass:"no-images"},[e._v("No images")]):e._e()])])},o=[],c={name:"galleryV",data(){return{page:1,search:"",emptySearch:"",view:!0}},created(){this.getImages()},computed:{images(){return this.$store.state.images}},methods:{async getImages(){await this.$store.dispatch("get",this.page),setTimeout((()=>{this.view=!0}),100)},searchImgs(e){this.view=!1;const t=e.srcElement.value;t.length&&this.search!==t&&(this.search=t,this.$refs.gallery.scrollTo(0,0),this.page=1,this.getSearchImgs())},async getSearchImgs(){let e=await this.$store.dispatch("search",{page:this.page,search:this.search});e.results.length?setTimeout((()=>{this.view=!0}),300):this.view=!1},clear(){this.search.length&&(this.view=!1),this.$refs.search.value="",this.emptySearch="",this.search="",this.page=1,this.getImages(),this.$refs.gallery.scrollTo(0,0)},scroll(e){let t=e.target.scrollTop+e.target.offsetHeight;t==e.target.scrollHeight&&(this.page=++this.page,this.search.length?this.getSearchImgs():this.getImages())}}},l=c,h=a(3736),u=(0,h.Z)(l,i,o,!1,null,"3474c428",null),g=u.exports,p={name:"App",components:{Gallery:g}},m=p,f=(0,h.Z)(m,s,n,!1,null,null,null),d=f.exports,v=a(3822),y=a(6265),w=a.n(y);r.Z.use(v.ZP);const b={Authorization:"Client-ID Hr_5AxnTJYMPmu8uG6FN8MLtIKLFQ0zgg7TF1DEKLSA","Accept-Version":"v1"};var k=new v.ZP.Store({state:{images:[]},mutations:{setImages(e,t){1==t.page?e.images=t.data:e.images.push(...t.data)}},actions:{get(e,t=1){const a=`https://api.unsplash.com/photos?page=${t}`;return w().get(a,{headers:b}).then((a=>(e.commit("setImages",{data:a.data,page:t}),a.data))).catch((e=>(console.warn(e),e)))},search(e,t){const a=`https://api.unsplash.com/search/photos?page=${t.page}&query=${t.search}`;return w().get(a,{headers:b}).then((a=>(e.commit("setImages",{data:a.data.results,page:t.page}),a.data))).catch((e=>(console.warn(e),e)))}},getters:{},modules:{}}),I=a(2466);r.Z.config.productionTip=!1,r.Z.use(I.Z),new r.Z({store:k,render:e=>e(d)}).$mount("#app")}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,r,s,n){if(!r){var i=1/0;for(h=0;h<e.length;h++){r=e[h][0],s=e[h][1],n=e[h][2];for(var o=!0,c=0;c<r.length;c++)(!1&n||i>=n)&&Object.keys(a.O).every((function(e){return a.O[e](r[c])}))?r.splice(c--,1):(o=!1,n<i&&(i=n));if(o){e.splice(h--,1);var l=s();void 0!==l&&(t=l)}}return t}n=n||0;for(var h=e.length;h>0&&e[h-1][2]>n;h--)e[h]=e[h-1];e[h]=[r,s,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,n,i=r[0],o=r[1],c=r[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(c)var h=c(a)}for(t&&t(r);l<i.length;l++)n=i[l],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(h)},r=self["webpackChunkgallery"]=self["webpackChunkgallery"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(8230)}));r=a.O(r)})();
//# sourceMappingURL=app.2cf2622f.js.map